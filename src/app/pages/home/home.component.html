<mat-toolbar class="integrity-background-color">
  <mat-toolbar-row>
    <mat-icon class="menu-icon" (click)="drawer.toggle()">{{Â drawer.opened ? 'close' : 'menu' }}</mat-icon>
    <img [class.hidden]="isHandsetPortrait" src="assets/img/integrity.svg" height="50%">
    <span class="spacer"></span>
    <span>{{ session.realm }}</span>
    <span class="spacer"></span>
    <mat-progress-spinner [mode]="requestCount == 0 ? 'determinate' : 'indeterminate'" diameter="20" color="accent"></mat-progress-spinner>
    <mat-icon *ngIf="isHandsetPortrait" (click)="logout()">exit_to_app</mat-icon>
  </mat-toolbar-row>
</mat-toolbar>

<mat-sidenav-container [class.narrow]="isHandsetPortrait" class="integrity-background-color">

  <mat-sidenav [mode]="isHandsetPortrait ? 'over' : 'side'" [opened]="!isHandsetPortrait" #drawer class="integrity-background-color">
    <mat-nav-list>
      <a *ngIf="isHandsetPortrait" mat-list-item>
        <img mat-list-item src="assets/img/integrity.svg" width="125">
      </a>
      <a *ngIf="user?.owner" mat-list-item [routerLink]="['realms']" routerLinkActive="active" (click)="isHandsetPortrait ? drawer.close() : false">
        <mat-icon>domain</mat-icon>Realms</a>
      <a mat-list-item [routerLink]="['roles']" routerLinkActive="active" (click)="isHandsetPortrait ? drawer.close() : false">
        <mat-icon>people</mat-icon>Roles</a>
      <a mat-list-item [routerLink]="['controllers']" routerLinkActive="active" (click)="isHandsetPortrait ? drawer.close() : false">
        <mat-icon>dashboard</mat-icon>Controllers</a>
      <a mat-list-item [routerLink]="['settings']" routerLinkActive="active" (click)="isHandsetPortrait ? drawer.close() : false">
        <mat-icon>settings</mat-icon>Settings</a>
      <a *ngIf="!isHandsetPortrait" mat-list-item (click)="logout()">
        <mat-icon>exit_to_app</mat-icon>Logout</a>
    </mat-nav-list>
  </mat-sidenav>

  <mat-sidenav-content>
    <router-outlet></router-outlet>
  </mat-sidenav-content>

</mat-sidenav-container>
