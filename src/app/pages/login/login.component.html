<div id="login-panel">

  <mat-expansion-panel class="mat-elevation-z2">
    <mat-expansion-panel-header>
      <mat-panel-title>
        Scan this QR code to access {{activeRealm ||'your realm'}}
      </mat-panel-title>
    </mat-expansion-panel-header>
    <form [formGroup]="realmForm" (ngSubmit)="onSubmit()">
      <mat-form-field>
        <input formControlName="realm" matInput placeholder="Realm">
        <mat-error *ngIf="realm.errors && realm.errors['required']">A realm is required</mat-error>
        <mat-error *ngIf="realm.errors && realm.errors['startAuthFailed']">Invalid realm</mat-error>
      </mat-form-field>
      <button type="submit" mat-raised-button [disabled]="realmForm.invalid" color="accent">Change Realm</button>
    </form>
  </mat-expansion-panel>

  <mat-card *ngIf="activeRealm" class="mat-elevation-z1">
    <mat-card-content>
      <qrcode [appClipboard]="qrUri" (copySuccess)="showCopySuccess($event)" [qrdata]="qrUri" [usesvg]="true" [level]="'Q'"></qrcode>
    </mat-card-content>
    <mat-card-footer>
      <mat-progress-bar mode="determinate" [value]="qrCountdown" color="warn"></mat-progress-bar>
    </mat-card-footer>
  </mat-card>

</div>
